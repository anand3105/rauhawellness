generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  email      String    @unique(map: "email") @db.VarChar(255)
  name       String?   @db.VarChar(100)
  created_at DateTime? @default(now()) @db.Timestamp(0)
}

model newsletters {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  email      String    @unique(map: "email") @db.VarChar(255)
  created_at DateTime? @default(now()) @db.Timestamp(0)
  updated_at DateTime? @default(now()) @updatedAt @db.Timestamp(0)
}

model waitlists {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  email      String?   @db.VarChar(255)
  phone      String?   @db.VarChar(50)
  name       String?   @db.VarChar(100)
  created_at DateTime? @default(now()) @db.Timestamp(0)
  updated_at DateTime? @default(now()) @updatedAt @db.Timestamp(0)
}

model quiz_results {
  id                  Int       @id @default(autoincrement()) @db.UnsignedInt
  email               String    @db.VarChar(255)
  stress_level        String?   @db.VarChar(50)
  sleep_quality       String?   @db.VarChar(50)
  energy_level        String?   @db.VarChar(50)
  work_life_balance   String?   @db.VarChar(50)
  mental_health       String?   @db.VarChar(50)
  created_at          DateTime? @default(now()) @db.Timestamp(0)
  updated_at          DateTime? @default(now()) @updatedAt @db.Timestamp(0)
  age_range           String    @default("") @db.VarChar(50)
  recommended_product String    @default("") @db.VarChar(100)
  skin_concerns       String    @default("") @db.VarChar(500)
  skin_goals          String    @default("") @db.VarChar(500)
  skin_type           String    @default("") @db.VarChar(50)
}

model user_tracking {
  id               Int       @id @default(autoincrement()) @db.UnsignedInt
  session_id       String    @unique @db.VarChar(255)
  email            String?   @db.VarChar(255)
  phone            String?   @db.VarChar(50)
  name             String?   @db.VarChar(255)
  user_agent       String?   @db.Text
  ip_address       String?   @db.VarChar(100)
  country          String?   @db.VarChar(100)
  city             String?   @db.VarChar(100)
  device_type      String?   @db.VarChar(50)
  browser          String?   @db.VarChar(100)
  os               String?   @db.VarChar(100)
  referrer         String?   @db.Text
  landing_page     String?   @db.Text
  cookies_accepted Boolean   @default(false)
  accepted_at      DateTime? @db.Timestamp(0)
  created_at       DateTime? @default(now()) @db.Timestamp(0)
  updated_at       DateTime? @default(now()) @updatedAt @db.Timestamp(0)
}

model page_views {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  session_id String    @db.VarChar(255)
  page_url   String    @db.Text
  page_title String?   @db.VarChar(255)
  time_spent Int?      @db.Int
  created_at DateTime? @default(now()) @db.Timestamp(0)

  @@index([session_id])
}

model user_events {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  session_id String    @db.VarChar(255)
  event_type String    @db.VarChar(100)
  event_data String?   @db.Text
  created_at DateTime? @default(now()) @db.Timestamp(0)

  @@index([session_id])
  @@index([event_type])
}

model community_members {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  email      String?   @db.VarChar(255)
  phone      String?   @db.VarChar(50)
  source     String    @default("hero_form") @db.VarChar(100)
  created_at DateTime? @default(now()) @db.Timestamp(0)
  updated_at DateTime? @default(now()) @updatedAt @db.Timestamp(0)

  @@index([email])
  @@index([phone])
  @@index([source])
}

model giveaway_entries {
  id                Int       @id @default(autoincrement()) @db.UnsignedInt
  email             String?   @db.VarChar(255)
  phone             String?   @db.VarChar(50)
  name              String    @db.VarChar(100)
  instagram_handle  String    @db.VarChar(100)
  skin_type         String    @db.VarChar(50)
  product_preference String   @db.VarChar(100)
  entry_source      String    @default("website") @db.VarChar(100)
  created_at        DateTime? @default(now()) @db.Timestamp(0)

  @@index([email])
  @@index([phone])
  @@index([instagram_handle])
  @@index([created_at])
}
